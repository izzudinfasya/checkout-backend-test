<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Register â€” Event</title>
    <link rel="icon" type="image/png" href="/assets/favicon.png" height="10" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/css/iziToast.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/responsive.css" />
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body class="bg-light">
    <!-- Header -->
    <header class="bg-dark text-white py-3">
      <div class="container d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center">
          <img src="/assets/logo.png" alt="Logo" height="70" />
        </div>
        <div class="d-none d-md-block">
          <a href="https://www.bigdatasummitcanada.com/" target="_blank" rel="noopener noreferrer" class="btn btn-outline-light">HOME</a>
        </div>
        <button
          class="btn btn-outline-light d-md-none"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mobileMenu"
          aria-controls="mobileMenu"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          &#9776;
        </button>
      </div>
      <div class="collapse d-md-none bg-dark" id="mobileMenu">
        <div class="container border-top mt-4">
          <a href="https://www.bigdatasummitcanada.com/" target="_blank" rel="noopener noreferrer">
            <button class="btn btn-outline-light w-100 mt-3 mb-2">HOME</button>
          </a>
        </div>
      </div>
    </header>

    <div class="container my-md-4">
      <div class="row">
        <div class="col-md-7 bg-white p-4 rounded-start border-end">
          <div
            class="d-flex justify-content-between align-items-center mb-1 flex-wrap"
          >
            <h4 class="fw-bold d-flex align-items-center gap-2" id="formTitle">
            <img src="assets/success.svg" alt="Success" class="d-none" id="confirmationIcon" width="30" height="30">
                <span id="formTitleText">Registration Form</span>
            </h4>
            <div class="stepper">
              <span id="step-ticket" class="fw-semibold">Select tickets</span>
              <span class="mx-1">></span>
              <span id="step-registration" class="text-muted">Registration</span>
              <span class="mx-1">></span>
              <span id="step-payment" class="text-muted">Payment</span>
              <span class="mx-1">></span>
              <span id="step-confirmation" class="text-muted"
                >Confirmation</span
              >
            </div>
          </div>
          <p
            id="eventDate"
            class="text-muted mb-2 small"
            style="max-width: 200px"
          >
            Loading date...
          </p>

          <div id="spinnerContainer"></div>
          <div id="ticket"></div>
          <div id="registration" class="d-none"></div>
          <div id="payment" class="d-none"></div>
          <div id="confirmation" class="d-none">
              
            <div class="my-4">
                <h4 class="fw-semibold mb-2">Thanks For Registering</h4>
                <div class="text-muted" style="font-size: 18px;">
                    <em>You will also receive an email with your confirmation details soon.</em>
                </div>
                <div class="text-muted" style="font-size: 18px;">
                    We look forward to seeing you at the event on<br>
                    <strong id="eventDateConfirmed"></strong>
                </div>
            </div>

            <div class="my-4">
              <h5 class="fw-semibold mb-3">Registrant Details</h5>
              <div class="table-responsive">
                <table
                  id="registrantTable"
                  class="table table-bordered"
                  style="width: 100%"
                >
                  <thead>
                    <tr>
                      <th>Registrant Name</th>
                      <th>Ticket Type</th>
                      <th>Unit Price</th>
                      <th>HST</th>
                      <th class="text-end">Subtotal</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                  <tfoot></tfoot>
                </table>
              </div>
            </div>
            <div class="mt-4">
              <h5 class="fw-semibold mb-3">Transactions</h5>
              <div class="table-responsive">
                <table id="transactionTable" class="table table-bordered w-100">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Transaction Type</th>
                      <th class="text-end">Amount</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                  <tfoot>
                    <tr>
                      <td colspan="3">
                        <div class="d-flex justify-content-between">
                          <strong>Balance Due</strong>
                          <strong id="balanceDue"></strong>
                        </div>
                      </td>
                    </tr>
                  </tfoot>
                </table>
              </div>
            </div>
          </div>

          <div
            class="d-flex flex-row justify-content-end align-items-center gap-3 mt-3"
          >
            <button
              class="btn btn-outline-dark mb-md-0 w-50 w-md-auto d-flex align-items-center justify-content-center gap-2"
              id="btnPrev"
            >
              <i class="bi bi-arrow-left"></i> Prev
            </button>
            <button
              class="btn btn-dark mb-md-0 w-50 w-md-auto d-flex align-items-center justify-content-center gap-2"
              id="btnNext"
            >
              Next <i class="bi bi-arrow-right"></i>
            </button>
            <button
              class="btn btn-dark d-none w-50 w-md-auto d-flex align-items-center justify-content-center gap-2"
              id="submit-registration"
              type="button"
            >
              Continue <i class="bi bi-arrow-right"></i>
            </button>
            <button
              class="btn btn-dark d-none w-50 w-md-auto d-flex align-items-center justify-content-center gap-2"
              id="submit-payment"
              type="button"
            >
              Pay Now <i class="bi bi-arrow-right"></i>
            </button>
          </div>
        </div>

        <div class="col-md-5 rounded-end summary-box" id="summary-container">
          <div class="sticky">
            <h5 class="fw-semibold">Order Summary</h5>
            <div class="mt-3 mb-3">
              <span id="summaryItem"></span>
            </div>

            <div class="mb-3">
                <label for="discountCode" class="form-label">Discount Code</label>
                <div class="input-group" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">
                    <input
                    type="text"
                    id="discountCode"
                    class="form-control"
                    placeholder="Have a discount code? Enter here"
                    disabled
                    />
                    <button
                    id="applyDiscount"
                    class="btn btn-dark"
                    disabled
                    >
                    Apply
                    </button>
                </div>
            </div>

            <hr />
            <div class="d-flex justify-content-between">
              <span>Subtotal</span>
              <span id="subtotal">CA$ 0</span>
            </div>
            <div class="d-flex justify-content-between">
              <span>HST</span>
              <span id="hst">CA$ 0</span>
            </div>
            <div class="d-flex justify-content-between">
              <span>Discount Code</span>
              <span id="discount" class="text-danger">Not applied</span>
            </div>

            <div class="d-flex justify-content-between mt-3 mb-3 fw-semibold">
              <span>Total</span>
              <span id="total">CA$ 0</span>
            </div>
            <hr />
          </div>
        </div>

        <div
          class="col-md-5 bg-white p-4 rounded-end d-none"
          id="confirmation-container"
        >
          <div class="sticky">
            <div class="d-flex justify-content-between align-items-center mb-4">
              <h5 class="fw-semibold mb-0">Event Details</h5>
              <div class="d-flex flex-row align-items-center gap-2">
                <a href="https://www.bigdatasummitcanada.com/resources/" target="_blank" rel="noopener noreferrer">
                  <img
                    src="/assets/youtube.svg"
                    alt="Resources"
                    height="32"
                  />
                </a>
                <a
                  href="https://www.linkedin.com/showcase/bigdata-analytics-ai-summit-canada/" target="_blank" rel="noopener noreferrer"
                >
                  <img
                    src="/assets/linkedin.svg"
                    alt="Linkedin Logo"
                    height="25"
                  />
                </a>
              </div>
            </div>

            <div class="d-flex align-items-center mb-4">
              <img src="/assets/location.svg" alt="Location Logo" height="20" />
              <div class="vertical-divider"></div>
              <span
                class="d-inline-block w-70 w-md-50"
                style="word-wrap: break-word"
              >
                Sheraton Toronto Airport Hotel & Conference Centre
              </span>
            </div>
            <div class="my-4">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2886.139029859708!2d-79.58875408450414!3d43.688066079119944!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b3f4fc82f15c3%3A0xc39ff04678e6a9b8!2sSheraton%20Toronto%20Airport%20Hotel%20%26%20Conference%20Centre!5e0!3m2!1sen!2sca!4v1615048969645!5m2!1sen!2sca"
                width="100%"
                height="400"
                style="border: 0; border-radius: 12px"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
              ></iframe>
            </div>
            <div
              class="d-flex flex-column justify-content-between align-items-center gap-2"
            >
              <button
                class="btn btn-outline-dark mb-2 mb-md-0 w-100"
                id="btnCalendar"
              >
                Add To Calendar
              </button>
              <button class="btn btn-dark mb-2 mb-md-0 w-100" id="btnDownload">
                Download Invoice
              </button>
            </div>
            <div class="my-4">
                <p class="small"><strong>Have Questions or Need Support?</strong></p>
                <p class="small">We're here to help. If you have any questions, concerns, or need assistance, please reach out.</p>
                
                <p class="small">ðŸ“© <strong>Email us at:</strong> <a href="mailto:customercare@strategyinstitute.com">customercare@strategyinstitute.com</a><br>
                ðŸ•’ <strong>Response time:</strong> Our team typically responds within 1 business day.</p>

                <p class="small">Your experience matters to us â€” let us know how we can support you.</p>
            </div>
          </div>
        </div>

        <div
          class="modal fade"
          id="loadingModal"
          tabindex="-1"
          aria-hidden="true"
          data-bs-backdrop="static"
          data-bs-keyboard="false"
        >
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 bg-transparent">
              <div
                class="d-flex flex-column align-items-center justify-content-center p-4 bg-white rounded-3 shadow"
              >
                <div
                  class="spinner-border text-primary mb-3"
                  role="status"
                  style="width: 3rem; height: 3rem"
                ></div>
                <div id="loadingModalText" class="fw-semibold"></div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="modal fade"
          id="loadingInvoiceModal"
          tabindex="-1"
          aria-hidden="true"
          data-bs-backdrop="static"
          data-bs-keyboard="false"
        >
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 bg-transparent">
              <div
                class="d-flex flex-column align-items-center justify-content-center p-4 bg-white rounded-3 shadow"
              >
                <div
                  class="spinner-border text-primary mb-3"
                  role="status"
                  style="width: 3rem; height: 3rem"
                ></div>
                <div class="fw-semibold">Generating Invoice...</div>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="expiryModal" tabindex="-1" aria-labelledby="expiryModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="expiryModalLabel">Session Expired</h5>
                    </div>
                    <div class="modal-body">
                        Your registration session has expired. Please start again.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="expiryModalOkBtn">OK</button>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js"></script>
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/jspdf-autotable@latest/dist/jspdf.plugin.autotable.min.js"></script>
    <script src="https://js.stripe.com/basil/stripe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.43/moment-timezone-with-data.min.js"></script>
    <script src="/global.js"></script>
  </body>
</html>